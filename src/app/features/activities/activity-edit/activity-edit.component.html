<!-- Template-driven form -->
<form *ngIf="activity" #f="ngForm" (ngSubmit)="save()">

  <div class="form-group">
    <label for="name">Name</label>
    <input type="text" 
           id="name" 
           name="name"
           class="form-control"
           placeholder="Name"
           required 
           autofocus
           #nameRef="ngModel"
           [(ngModel)]="activity.name"
           [ngClass]="{'is-invalid': (nameRef.touched || nameRef.dirty) && !nameRef.valid}">
    <span class="invalid-feedback">
      <span *ngIf="(nameRef.touched || nameRef.dirty) && nameRef.errors">
        <small>Please enter a name for the activity</small>
      </span>
    </span>
  </div>

  <div class="form-group">
    <label for="description">Description</label>
    <input type="text"
           id="description" 
           name="description" 
           class="form-control"
           placeholder="Description"
           [(ngModel)]="activity.description">
  </div>
  
  <div class="form-group">
    <label for="category">Category</label>
    <input type="text" 
           id="category" 
           name="category" 
           class="form-control"
           placeholder="Category"
           [(ngModel)]="activity.category">
  </div>
  
  <div class="form-group">
    <label for="subcategory">Subcategory</label>
    <input type="text" 
           id="subcategory" 
           name="subcategory"
           class="form-control"
           placeholder="Subcategory"
           [(ngModel)]="activity.subcategory">
  </div>

  <div class="form-group">
    <label for="distance">Distance (km)</label>
    <input type="number" 
           id="distance" 
           name="distance"
           class="form-control"
           [(ngModel)]="activity.distance">
  </div>

  <div class="form-group" ngModelGroup="location">
    <label>Location</label>
    <div class="form-row">
      <div class="col">
        <input type="number" 
           id="lat" 
           name="lat"
           class="form-control"
           placeholder="Latitude"
           [(ngModel)]="activity.location.lat">
      </div>
      <div class="col">
        <input type="number" 
           id="lng" 
           name="lng"
           class="form-control"
           placeholder="Longitude"
           [(ngModel)]="activity.location.lng">
      </div>
    </div>    
  </div>

  <button class="btn btn-primary" type="submit" [disabled]="!f.valid">
    Save
  </button>

  <button class="btn btn-default" type="button" [disabled]="f.pristine" (click)="reset()">
    Discard
  </button>

</form>

<app-default-page-link></app-default-page-link>